<form [formGroup]="outgoingSwiftMessageEditForm">
    <!--Top Table UI-->


    <!--Top Table UI -->
    <mdb-card cascade="true" narrower="true" [ngClass]="{ 'z-depth-0': !shadows }" class="mt-3 mb-5">
        <!--Card image-->
        <div
            class="view view-cascade gradient-card-header blue-gradient narrower py-2 mx-4 mb-3 d-flex justify-content-center align-items-center">
            <span class="white-text mx-3">Outgoing Details - MT: {{messageName}}</span>
        </div>
        <!--/Card image-->
        <div class="px-4">
            <div class="table-wrapper table-editable">
                <div class="d-flex my-1">
                    <div class="p-2">
                        <button mdbBtn color="default" size="sm" mdbWavesEffect (click)="backToOutgoingSwiftMsgPage()">
                            <mdb-icon fas icon="arrow-left" class="me-2"></mdb-icon> Back
                        </button>
                    </div>
                    <div class="mr-auto p-2">
                        <!-- <button *ngIf="totalCbsFlag1 > 0" mdbBtn type="button" size="sm" color="danger" mdbWavesEffect>
                            Screening
                        </button> -->
                        <button mdbBtn type="button" size="sm" color="success" mdbWavesEffect>
                            Screening <mdb-icon fas icon="check-square" class="mr-1"></mdb-icon>
                        </button>
                    </div>
                    <div class="p-2">
                        <button mdbBtn type="button" size="sm" color="warning" mdbWavesEffect (click)="print()">
                            <mdb-icon fas icon="print" class="mr-1"></mdb-icon>Print Preview
                        </button>
                    </div>
                    <div class="p-2">
                        <button mdbBtn type="button" disabled *ngIf="totalCbsFlag1 > 0" color="primary" size="sm"
                            mdbWavesEffect data-toggle="modal" data-target="#basicExample" (click)="frame.show()">
                            <mdb-icon fas icon="paper-plane" class="mr-1"></mdb-icon>Send To Authorization
                        </button>
                        <button mdbBtn type="button" *ngIf="totalCbsFlag1 <= 0" color="primary" size="sm"
                            mdbWavesEffect data-toggle="modal" data-target="#basicExample" (click)="frame.show()">
                            <mdb-icon fas icon="paper-plane" class="mr-1"></mdb-icon>Send To Authorization
                        </button>
                        <!-- <button mdbBtn type="button" disabled *ngIf="totalCbsFlag1 > 0" color="primary" size="sm"
                            mdbWavesEffect (click)="sendToAuthOutgoingSwiftMessage()">
                            <mdb-icon fas icon="paper-plane" class="mr-1"></mdb-icon>Send To Authorization
                        </button>
                        <button mdbBtn type="button" *ngIf="totalCbsFlag1 <= 0" color="primary" size="sm" mdbWavesEffect
                            (click)="sendToAuthOutgoingSwiftMessage()">
                            <mdb-icon fas icon="paper-plane" class="mr-1"></mdb-icon>Send To Authorization
                        </button> -->
                    </div>

                </div>

                <!-- <div class="row" *ngIf="modalLoading == false">
                    <div class="col-md-6 mx-auto">
                        <div class="md-form">
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" style="width: 50%" aria-valuenow="15"
                                    aria-valuemin="0" aria-valuemax={{totalOutgoingEditableRow}}>15%
                                </div>
                            </div>
                        </div>
                    </div>
                </div> -->

                <div class="d-flex justify-content-center mb-3" *ngIf="modalLoading">
                    <div class="spinner-grow text-primary" style="width: 3rem; height: 3rem;" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                </div>

                <!--Table-->
                <table mdbTable #tableEl="mdbTable" stickyHeader="true" hover="true" striped="true"
                    class="table-bordered table-responsive-md z-depth-1 text-center" small="true" exportToCSV
                    data={data}>
                    <thead class="sticky-top">
                        <tr>
                            <th>Srl.</th>
                            <th>Field</th>
                            <th>Message</th>
                            <!-- <th>Help</th> -->
                        </tr>
                    </thead>

                    <tbody #row>
                        <tr *ngFor="let el of outgoingEditMessageData; let id = index">
                            <td class="text-center">
                                {{id+1}}
                            </td>
                            <td class="text-left">
                                {{el.promts}}
                            </td>
                            <td class="text-left red lighten-4" *ngIf="el.cbsFlag == 1">
                                <pre (keyup)="changeValue(id, 'swiftValue',  $event)" class="me-10"
                                    (blur)="updateList(id, 'swiftValue', el.cbsField, el.documentNo, el.messageType, $event)"
                                    contenteditable="true">{{el.swiftValue}}</pre>

                                <ng-template #popTemplate>
                                    <pre>{{el.outgoingMsgHelp}}</pre>
                                </ng-template>
                                <button type="button" mdbBtn color="info" rounded="true" size="sm"
                                    class="p-2 waves-effect waves-light" mdbPopoverHeader="Validation Rules:" triggers="hover"
                                    [mdbPopover]="popTemplate" mdbWavesEffect>
                                    <mdb-icon fas icon="question"></mdb-icon>
                                </button>
                            </td>

                            <td class="text-left" *ngIf="el.cbsFlag == 0 && el.cbsValue != el.swiftValue">
                                <pre (keyup)="changeValue(id, 'swiftValue',  $event)" class="me-10"
                                    (blur)="updateList(id, 'swiftValue', el.cbsField, el.documentNo, el.messageType, $event)"
                                    contenteditable="true">{{el.swiftValue}}</pre>

                                <ng-template #popTemplate>
                                    <pre>{{el.outgoingMsgHelp}}</pre>
                                </ng-template>
                                <button type="button" mdbBtn color="info" rounded="true" size="sm"
                                    class="p-2 waves-effect waves-light" mdbPopoverHeader="Validation Rules:" triggers="hover"
                                    [mdbPopover]="popTemplate" mdbWavesEffect>
                                    <mdb-icon fas icon="question"></mdb-icon>
                                </button>
                            </td>
                            <td class="text-left" *ngIf="el.cbsFlag == 0 && el.cbsValue == el.swiftValue">
                                <pre>{{el.swiftValue}}</pre>
                            </td>

                            <!-- <td>
                                <button type="button" mdbBtn color="info" size="sm" class="p-2 waves-effect waves-light"
                                    placement="top" mdbTooltip={{el.promts}} mdbWavesEffect>
                                    <mdb-icon fas icon="question"></mdb-icon>
                                </button>
                            </td> -->

                        </tr>
                    </tbody>

                </table>
                <!--Table-->
                <div class="d-flex my-2">
                    <div class="p-2">
                        <button mdbBtn color="default" size="sm" mdbWavesEffect (click)="backToOutgoingSwiftMsgPage()">
                            <mdb-icon fas icon="arrow-left" class="me-2"></mdb-icon> Back
                        </button>
                    </div>
                    <div class="mr-auto p-2">
                        <button mdbBtn color="success" size="sm" mdbWavesEffect (click)="updateOutgoingSwiftMessage()">
                            Save As Draft
                            <mdb-icon fas icon="download" class="me-2"></mdb-icon>
                        </button>
                    </div>
                    <div class="p-2">
                        <button mdbBtn type="button" disabled *ngIf="totalCbsFlag1 > 0" color="primary" size="sm"
                            mdbWavesEffect data-toggle="modal" data-target="#basicExample" (click)="frame.show()">
                            <mdb-icon fas icon="paper-plane" class="mr-1"></mdb-icon>Send To Authorization
                        </button>
                        <button mdbBtn type="button" *ngIf="totalCbsFlag1 <= 0" color="primary" size="sm"
                            mdbWavesEffect data-toggle="modal" data-target="#basicExample" (click)="frame.show()">
                            <mdb-icon fas icon="paper-plane" class="mr-1"></mdb-icon>Send To Authorization
                        </button>

                        <!-- <button mdbBtn type="button" disabled *ngIf="totalCbsFlag1 > 0" color="primary" size="sm"
                            mdbWavesEffect (click)="sendToAuthOutgoingSwiftMessage()">
                            <mdb-icon fas icon="paper-plane" class="mr-1"></mdb-icon>Send To Authorization
                        </button> -->

                        <!-- <button class="p-2" mdbBtn color="primary" size="sm" mdbWavesEffect data-toggle="modal"
                            data-target="#basicExample" (click)="frame.show()">
                            Send To Authorization <mdb-icon fas icon="paper-plane" class="me-2"></mdb-icon>
                        </button> -->



                    </div>

                </div>

            </div>
        </div>
    </mdb-card>


    <!-- Confirmation Modal -->
    <div mdbModal #frame="mdbModal" class="modal fade" id="frameModalTop" tabindex="-1" role="dialog"
        aria-labelledby="myModalLabel" aria-hidden="true" (open)="onOpened($event)">
        <div class="modal-dialog modal-notify modal-info" role="document">
            <!--Content-->
            <div class="modal-content">
                <!--Header-->
                <div class="modal-header">
                    <p class="heading lead"></p>

                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="frame.hide()">
                        <span aria-hidden="true" class="white-text">&times;</span>
                    </button>
                </div>

                <!--Body-->
                <div class="modal-body">
                    <div class="text-center">
                        <!-- <mdb-icon fas icon="check" size="4x" class="mb-3 animated rotateIn"></mdb-icon> -->
                        <p>Do you want to <b>Submit</b> for Authorization?</p>
                    </div>
                </div>

                <!--Footer-->
                <div class="modal-footer justify-content-center">
                    <a type="button" mdbBtn color="primary" size="sm" class="waves-light" mdbWavesEffect
                        (click)="sendToAuthOutgoingSwiftMessage(); frame.hide()">Yes
                        <!-- <mdb-icon fas icon="check" class="ml-1 animated rotateIn"></mdb-icon> -->
                    </a>
                    <a type="button" mdbBtn color="primary" size="sm" outline="true" class="waves-effect" mdbWavesEffect
                        (click)="frame.hide()" data-dismiss="modal">No
                        <!-- <mdb-icon fas icon="times-circle" class="ml-1 animated rotateIn"></mdb-icon> -->
                    </a>
                </div>
            </div>
            <!--/.Content-->
        </div>
    </div>


    <!-- 
    <mdb-card class="my-3">
        <mdb-card-body>
            <div class="d-flex mb-3">
                <div class="p-2">
                    <button mdbBtn color="default" size="sm" mdbWavesEffect (click)="backToOutgoingSwiftMsgPage()">
                        <mdb-icon fas icon="arrow-left" class="me-2"></mdb-icon> Back
                    </button>
                </div>
                <div class="mr-auto p-2">
                    <button mdbBtn type="button" size="sm" color="success" mdbWavesEffect>
                        Screening <mdb-icon fas icon="check-square" class="mr-1"></mdb-icon>
                    </button>
                </div>
                <div class="p-2">
                    <button mdbBtn type="button" size="sm" color="warning" mdbWavesEffect (click)="print()">
                        <mdb-icon fas icon="print" class="mr-1"></mdb-icon>Print Preview
                    </button>
                </div>
                <div class="p-2">
                    <button mdbBtn type="button" color="primary" size="sm" mdbWavesEffect
                        (click)="sendToAuthOutgoingSwiftMessage()">
                        <mdb-icon fas icon="paper-plane" class="mr-1"></mdb-icon>Send To Authorization
                    </button>
                </div>
            </div>
        </mdb-card-body>
    </mdb-card> -->



</form>